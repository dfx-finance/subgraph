###
### ChildChainFactory
###
type ChildChainFactory @entity {
  # Contract address
  id: ID!

  numGauges: BigInt!
  gaugeSets: [GaugeSet!]! @derivedFrom(field: "factory")

  blockNum: BigInt!
}

type GaugeSet @entity {
  id: ID!

  factory: ChildChainFactory!

  receiver: Receiver!
  streamer: String!
  gauge: Gauge!
}

type Receiver @entity {
  id: ID!

  set: GaugeSet!

  whitelistedSourceChain: Int! # uint64
  whitelistedSender: Bytes! # address
  blockNum: BigInt!
}

type Streamer @entity {
  id: ID!

  set: GaugeSet!
  reward_count: Int!
  reward_tokens: [Bytes!]
  last_update_time: BigInt!

  blockNum: BigInt!
}

type Gauge @entity {
  id: ID!

  set: GaugeSet!

  decimals: Int!
  symbol: String!
  name: String!
  totalSupply: BigDecimal!

  dfxBalance: BigDecimal!

  lpt: Bytes!
  lptAmount: BigDecimal!

  blockNum: BigInt!
}
