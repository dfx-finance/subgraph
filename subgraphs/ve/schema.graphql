##
## AMM data
##
type Token @entity(immutable: true) {
  # token address
  id: ID!

  # mirrored from smart contract
  decimals: BigInt!
  symbol: String!
  name: String!
}

type Pair @entity(immutable: true) {
  # Contract address
  id: ID!
  decimals: BigInt!
  symbol: String!
  name: String!

  protocolFee: BigInt!

  # mirrored from the smart contract
  token0: Token!
  token1: Token!

  # reserves
  reserve0: BigDecimal!
  reserve1: BigDecimal
}

##
## Gauge
##
type Gauge @entity {
  # Contract address
  id: ID!
  decimals: Int!
  symbol: String!

  # mirrored from the smart contract
  lpt: Bytes! # curve addr
  lptAmount: BigInt!
  totalSupply: BigDecimal!
  workingSupply: BigInt!
  dfxBalance: BigDecimal!
  rewardCount: BigInt!

  # calculated
  totalWeight: BigInt!
  active: Boolean!

  blockNumber: BigInt!
}

type GaugeReward @entity(immutable: true) {
  id: ID!
  token: Token!
  availableRewards: BigDecimal!
  blockTimestamp: BigInt!
}
